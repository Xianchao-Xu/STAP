      SUBROUTINE TRUSS
C     获取桁架单元的存储空间，并调用RUSS子程序
      COMMON /SOL/ NUMNP,NEQ,NWK,NUMEST,MIDEST,MAXEST,MK
      COMMON /DIM/ N1,N2,N3,N4,N5,N6,N7,N8,N9,N10,N11,N12,N13,N14,N15
      COMMON /EL/ IND,NPAR(10),NUMEG,MTOT,NFIRST,NLAST,ITWO
      COMMON /TAPES/ IELMNT,ILOAD,IIN,IOUT
      COMMON A(1)
      EQUIVALENCE (NPAR(2),NUME),(NPAR(3),NUMMAT)
      
      NFIRST = N6
      IF (IND .GT. 1) NFIRST = N5
      
      N101 = NFIRST
      N102 = N101 + NUMMAT * ITWO
      N103 = N102 + NUMMAT * ITWO
      N104 = N103 + 6 * NUME
      N105 = N104 + 6 * NUME * ITWO
      N106 = N105 + NUME
      NLAST = N106
      
      IF (IND .GT. 1) GO TO 100
      IF (NLAST .GT. MTOT) CALL ERROR (NLAST-MTOT, 3)
      GO TO 200
  100 IF (NLAST .GT. MTOT) CALL ERROR (NLAST-MTOT, 4)
  200 MIDEST = NLAST - NFIRST
      
C     ID,X,Y,Z,U,MHT,E,AEAR,LM,XYZ,MATP
      CALL RUSS (A(N1),A(N2),A(N3),A(N4),A(N4),A(N5),A(N101),A(N102),
     1 A(N103),A(N104),A(N105))
      
      RETURN
      END